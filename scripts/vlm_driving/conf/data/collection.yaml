# Data collection configuration
collection:
  # Output directory for raw data
  output_dir: ${data_dir}/raw

  # Track/environment to use (warehouse for obstacle avoidance)
  track: "donkey-warehouse-v0"

  # Collection mode: autopilot, obstacle_aware, or mixed
  mode: obstacle_aware

  # Number of frames to collect
  num_frames: 10000

  # Frame rate (frames per second)
  target_fps: 20

  # Camera resolution (height, width, channels)
  cam_resolution: [120, 160, 3]

# Autopilot settings (for normal driving phases)
autopilot:
  kp: 0.8  # Proportional gain for steering
  base_throttle: 0.5  # Higher throttle for obstacle avoidance task
  max_throttle: 0.7

# Obstacle avoidance settings
obstacle:
  # Number of frames to lookback when collision occurs
  lookback_frames: 5
  # Throttle during turn execution
  turn_throttle: 0.2
  # Steps to execute for 80-degree turn (calibrate empirically)
  turn_steps: 100

# Preprocessing settings
preprocessing:
  # Filter criteria
  max_cte: 10.0  # Higher threshold for warehouse (no track lines)
  min_speed: 0.3  # Lower threshold to capture slow maneuvers

  # Steering buckets
  num_steering_buckets: 7  # 5 or 7

  # Dataset split
  val_split: 0.1
  test_split: 0.0

  # Balance dataset by undersampling majority class
  balance_classes: false

# Processed data paths
train_file: ${data_dir}/processed/train.jsonl
val_file: ${data_dir}/processed/val.jsonl
